workflows:
  ios-production:
    name: iOS TESTQUIZ - Upload to TestFlight
    max_build_duration: 120
    instance_type: mac_mini_m2
    
    environment:
      vars:
        XCODE_VERSION: "15.0"
        FLUTTER_VERSION: "3.24.0"
        COCOAPODS_DISABLE_STATS: "true"
        APP_STORE_CONNECT_ISSUER_ID: "602ac213-1394-40fa-98e5-d13171c72476"
        APP_STORE_CONNECT_KEY_IDENTIFIER: "M6C3Y7VG76"
        APP_STORE_CONNECT_PRIVATE_KEY: |
          -----BEGIN PRIVATE KEY-----
          MIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQg+em9ls57IJ8pXpT8
          LKAI8Qv9Yev7vmfmWId76/AEgp2gCgYIKoZIzj0DAQehRANCAATX3EEMR/YK4ftN
          jwegtTmP5rhj26dK+7EyHQVRoqpzETlHc3dZ9N4JtCCABfNoAEFV0ibdkp3+GTKz
          rny4/N9Q
          -----END PRIVATE KEY-----
        CERTIFICATE_PRIVATE_KEY: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEpAIBAAKCAQEArwr+qM0x4EujCFmXGLayFe6HSzgDJdW2UTQ5WwUZk4tz9hnl
          MDv/wIG+Wl1oWTeKIs0woHWlJZP4XfcETrnZ5s3zHJJN0Bol1WbdTxgBEiAH5oLP
          AAJAknnvf09ktimDmPeCmEU+/BJ0qeajxTsNndzCrvTfI/KLx2hDLp1uumNVgaT0
          zjR03IqDszEj4wAFS1l+QRdoCtIMhoa1PBoNgUU9Dw4tB+ZGoCexp7wwtgo7kW7o
          oP8bJLKyqv482Ue8jtBweSZRXhsVROJeUdkMxBMw3jx1YfayZyKniME36DvytgEM
          0VuBqpR9n+onFtg4Vi5R0+UNSUTCLTZyq121LQIDAQABAoIBADCsrgPii2wDnGJG
          B24n332ZxqVz/ewXcYtDKm/VCzesH6LfsIupI4U0juox70Jf31muFUeJb1Lzwqze
          c6Qwqhc0TdY0GM81di/RWtkTo7iWj5vZ5BXsimgw4BhWy3qcMKvop7gQCWOu/iIA
          sKm3siGjsb9U+HfWimf45jWgMZpCbt6z5eNIMzL1hUTUDf7RNtJowIBK3rL+P7fw
          YSnmmTFjpVG9nX5feZF4DT6wyOPB03qLXlmQ1RekVMeAFrjoOb1HPRtQ9lypylRN
          1JTjnzBiSxvvUDmcH9y413d4zMTqFrt81xSyrBOvir5b3HgAUrcW4nPb70C9B0by
          MXTq/gECgYEA57LGYFRRYJi2Q0JxmUOnIJdUYs94c4M6Q8xcz17Ljl7bQCYX/Wth
          1Yc1GP5ChKh3Q123w1NU53s8OPho/TSV3vHGFHy9quiRqGJv7iaGbPGPjoWXCeTD
          jAR9STzFxeVyXWoQgaVoE2IXB5jIDN2DFzYRZPlmwmBUsmZ3sWtdgqUCgYEAwWb9
          +1CO7ayrOuadkDN5Z3Y3oxIp3sISsF3JWT73skRln4895QxD0xQ0d/ow9/UmTzwM
          NEr6ryj+R6KOh+OkV84GKvPlJJUAOXEN2KTNSQJd8CM7Y0W8WChPrS7ChZjUbsja
          7kTDGMkdD8rOHYqD9BHRfz7CIEClVEWZxsTiCekCgYEAoiZ6MKYxwWF+hLm2WKWB
          DAz8MJ6z1FttZk9aUIIuAPgfhthiB6ej81TJczFWChMATDQFS/xAujODpPcsOrAX
          hsw7bNETx801StuBK/DoOMwhRIP3fSQNOitWJvASFPoLvJZi8Oh6Wr5WEan5rw9D
          E/Zx2/Gy2aui+qs9bvwNmEUCgYBYU9xNKeaM/94YAXkWgZvBt8kDLel3dfUpHTw3
          CT4A6aHr9HSVJjvXrBOmc9pndEvxxf/g5hmFY9h2CPTFdR76hvpkJY2SXoaCtXJY
          bjPfUzhp0v1tgkzZileRRZjLgRgMHKl4Rmk/6aHfM4VdEoTfNEAUuCnapwua6Eqp
          8AM3+QKBgQCwyPjaADu49cCzdL2THCTXGc8rN4Cx4B55+4cojdQP20lADKS2RaD+
          jlh/RXYbSRsW0ykxSSWDFG2gYesbztbSMJLznmXugWEQipLGSduzRkx0Or4YPUGd
          ercL2TV0DHnsnOyf0v0woEgJ7RYpdP4ueT+O++kw0LQBPdC0qYL9Tw==
          -----END RSA PRIVATE KEY-----
        # Paste base64 encoded provisioning profile below
        PROVISIONING_PROFILE_BASE64: |
          MIIwBgYJKoZIhvcNAQcCoIIv9zCCL/MCAQExCzAJBgUrDgMCGgUAMIIgEwYJKoZIhvcNAQcBoIIgBASCIAA8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CjxkaWN0PgoJPGtleT5BcHBJRE5hbWU8L2tleT4KCTxzdHJpbmc+VEVTVFFVSVo8L3N0cmluZz4KCTxrZXk+QXBwbGljYXRpb25JZGVudGlmaWVyUHJlZml4PC9rZXk+Cgk8YXJyYXk+Cgk8c3RyaW5nPkY1SjYyWDI4NlM8L3N0cmluZz4KCTwvYXJyYXk+Cgk8a2V5PkNyZWF0aW9uRGF0ZTwva2V5PgoJPGRhdGU+MjAyNS0xMC0xNlQxMToyNDo0OVo8L2RhdGU+Cgk8a2V5PlBsYXRmb3JtPC9rZXk+Cgk8YXJyYXk+CgkJPHN0cmluZz5pT1M8L3N0cmluZz4KCQk8c3RyaW5nPnhyT1M8L3N0cmluZz4KCQk8c3RyaW5nPnZpc2lvbk9TPC9zdHJpbmc+Cgk8L2FycmF5PgoJPGtleT5Jc1hjb2RlTWFuYWdlZDwva2V5PgoJPGZhbHNlLz4KCTxrZXk+RGV2ZWxvcGVyQ2VydGlmaWNhdGVzPC9rZXk+Cgk8YXJyYXk+CgkJPGRhdGE+TUlJRjd6Q0NCTmVnQXdJQkFnSVFNYmJ3YmgxSXFoQ2xoNm81NmFCK1RUQU5CZ2txaGtpRzl3MEJBUXNGQURCMU1VUXdRZ1lEVlFRREREdEJjSEJzWlNCWGIzSnNaSGRwWkdVZ1JHVjJaV3h2Y0dWeUlGSmxiR0YwYVc5dWN5QkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwZVRFTE1Ba0dBMVVFQ3d3Q1J6TXhFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1CNFhEVEkxTVRBd01qQTVNekkwTlZvWERUSTJNVEF3TWpBNU16STBORm93Z2JVeEdqQVlCZ29Ka2lhSmsvSXNaQUVCREFwR05VbzJNbGd5T0RaVE1Vb3dTQVlEVlFRRERFRkJjSEJzWlNCRWFYTjBjbWxpZFhScGIyNDZJRmRGUWxOUFRrbFlJRVJKUjBsVVFVd2dVRkpKVmtGVVJTQk1TVTFKVkVWRUlDaEdOVW8yTWxneU9EWlRLVEVUTUJFR0ExVUVDd3dLUmpWS05qSllNamcyVXpFcE1DY0dBMVVFQ2d3Z1YwVkNVMDlPU1ZnZ1JFbEhTVlJCVENCUVVrbFdRVlJGSUV4SlRVbFVSVVF4Q3pBSkJnTlZCQVlUQWxWVE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcndyK3FNMHg0RXVqQ0ZtWEdMYXlGZTZIU3pnREpkVzJVVFE1V3dVWms0dHo5aG5sTUR2L3dJRytXbDFvV1RlS0lzMHdvSFdsSlpQNFhmY0VUcm5aNXMzekhKSk4wQm9sMVdiZFR4Z0JFaUFINW9MUEFBSkFrbm52ZjA5a3RpbURtUGVDbUVVKy9CSjBxZWFqeFRzTm5kekNydlRmSS9LTHgyaERMcDF1dW1OVmdhVDB6alIwM0lxRHN6RWo0d0FGUzFsK1FSZG9DdElNaG9hMVBCb05nVVU5RHc0dEIrWkdvQ2V4cDd3d3RnbzdrVzdvb1A4YkpMS3lxdjQ4MlVlOGp0QndlU1pSWGhzVlJPSmVVZGtNeEJNdzNqeDFZZmF5WnlLbmlNRTM2RHZ5dGdFTTBWdUJxcFI5bitvbkZ0ZzRWaTVSMCtVTlNVVENMVFp5cTEyMUxRSURBUUFCbzRJQ09EQ0NBalF3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlFKL3NBVmtQbXZaQXFTRXJrbUtHTU1sK3luc2pCd0JnZ3JCZ0VGQlFjQkFRUmtNR0l3TFFZSUt3WUJCUVVITUFLR0lXaDBkSEE2THk5alpYSjBjeTVoY0hCc1pTNWpiMjB2ZDNka2NtY3pMbVJsY2pBeEJnZ3JCZ0VGQlFjd0FZWWxhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdNeTEzZDJSeVp6TXdOVENDQVI0R0ExVWRJQVNDQVJVd2dnRVJNSUlCRFFZSktvWklodmRqWkFVQk1JSC9NSUhEQmdnckJnRUZCUWNDQWpDQnRneUJzMUpsYkdsaGJtTmxJRzl1SUhSb2FYTWdZMlZ5ZEdsbWFXTmhkR1VnWW5rZ1lXNTVJSEJoY25SNUlHRnpjM1Z0WlhNZ1lXTmpaWEIwWVc1alpTQnZaaUIwYUdVZ2RHaGxiaUJoY0hCc2FXTmhZbXhsSUhOMFlXNWtZWEprSUhSbGNtMXpJR0Z1WkNCamIyNWthWFJwYjI1eklHOW1JSFZ6WlN3Z1kyVnlkR2xtYVdOaGRHVWdjRzlzYVdONUlHRnVaQ0JqWlhKMGFXWnBZMkYwYVc5dUlIQnlZV04wYVdObElITjBZWFJsYldWdWRITXVNRGNHQ0NzR0FRVUZCd0lCRml0b2RIUndjem92TDNkM2R5NWhjSEJzWlM1amIyMHZZMlZ5ZEdsbWFXTmhkR1ZoZFhSb2IzSnBkSGt2TUJZR0ExVWRKUUVCL3dRTU1Bb0dDQ3NHQVFVRkJ3TURNQjBHQTFVZERnUVdCQlNWUTBMUUFXTno2bDdxNnVUTmtzQk5yWU12QURBT0JnTlZIUThCQWY4RUJBTUNCNEF3RXdZS0tvWklodmRqWkFZQkJ3RUIvd1FDQlFBd0V3WUtLb1pJaHZkalpBWUJCQUVCL3dRQ0JRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBSUk0TGZZdUlBTzliYlNlSVJQYzkxSnRPV3RrSnJ6U3RDSDFQYS9CS3h0QW1pSXRnQTZvRGxxUFZYZ0JkdXJUcnd1L3o4MWhBaExJenhBSmZrVUpQTEZDL2tDa0xza0NRSk90R0pjeXR2bCsvcjRaM3RqR1dwSm93TS83KzNmRTVXYUYxYllHY1lIdm5pNmZPcmpGWlZ2RG1ubHAxckhsZlh0VVVCMEg0azhGTUpJT3dUWnQrWWhXWnh0cmszZC9LSjFQVmdxQkJEd3U2VGlmTVZLNUx6VE5YQWhWM1p5cXNJUXVXT2l0MnZHZGplUWdtU2g4QXdFeEw0QzBkeUpPNm12NUZ1WHFlMm9JYVRkZUVOUCtQK3ppUmtYU1dGcE9kM3ZTak81MEVVZGhyRHNvZGsxTmRCY2VrRHRoM0lYcXBiVStnbHZwVDlWUGlGN05sak9TTHNZPTwvZGF0YT4KCTwvYXJyYXk+CgoJPGtleT5ERVItRW5jb2RlZC1Qcm9maWxlPC9rZXk+Cgk8ZGF0YT5NSUlOUUFZSktvWklodmNOQVFjQ29JSU5NVENDRFMwQ0FRRXhEVEFMQmdsZ2hrZ0JaUU1FQWdFd2dnTUJCZ2txaGtpRzl3MEJCd0dnZ2dMeUJJSUM3akdDQXVvd0RBd0hWbVZ5YzJsdmJnSUJBVEFOREFoUVVGRkRhR1ZqYXdFQkFEQVFEQVJPWVcxbERBaFVSVk5VVVZWSldqQVFEQXBVYVcxbFZHOU1hWFpsQWdJQlhqQVREQTVKYzFoamIyUmxUV0Z1WVdkbFpBRUJBREFWREFsQmNIQkpSRTVoYldVTUNGUkZVMVJSVlVsYU1CME1ERU55WldGMGFXOXVSR0YwWlJjTk1qVXhNREUyTVRFeU5EUTVXakFlREE1VVpXRnRTV1JsYm5ScFptbGxjakFNREFwR05VbzJNbGd5T0RaVE1COE1Ea1Y0Y0dseVlYUnBiMjVFWVhSbEZ3MHlOakV3TURJd09UTXlORFJhTUNBTUYxQnliMlpwYkdWRWFYTjBjbWxpZFhScGIyNVVlWEJsREFWVFZFOVNSVEFoREFoUWJHRjBabTl5YlRBVkRBTnBUMU1NQkhoeVQxTU1DSFpwYzJsdmJrOVRNQ3NNRzBGd2NHeHBZMkYwYVc5dVNXUmxiblJwWm1sbGNsQnlaV1pwZURBTURBcEdOVW8yTWxneU9EWlRNQ3dNQkZWVlNVUU1KR0V5TmpJMk1UY3dMV1V6Wm1FdE5ERTBNeTA0TmpkaExXVTVZemsyWVRBMk5XUXlNVEFzREFoVVpXRnRUbUZ0WlF3Z1YwVkNVMDlPU1ZnZ1JFbEhTVlJCVENCUVVrbFdRVlJGSUV4SlRVbFVSVVF3T3d3VlJHVjJaV3h2Y0dWeVEyVnlkR2xtYVdOaGRHVnpNQ0lFSU9ySk5DbTdmWTNSZkZ2WkdhOXc0bWIxc0NRdkZ6MXhNRGtBVi8vQUFCVDBNSUlCRGd3TVJXNTBhWFJzWlcxbGJuUnpjSUg5QWdFQnNJSDNNRGtNRm1Gd2NHeHBZMkYwYVc5dUxXbGtaVzUwYVdacFpYSU1IMFkxU2pZeVdESTRObE11YVc4dVptbHlaWE5vYVhCekxuRjFhWHBoY0hBd0hRd1BZWEJ6TFdWdWRtbHliMjV0Wlc1MERBcHdjbTlrZFdOMGFXOXVNQmdNRTJKbGRHRXRjbVZ3YjNKMGN5MWhZM1JwZG1VQkFmOHdNUXdqWTI5dExtRndjR3hsTG1SbGRtVnNiM0JsY2k1MFpXRnRMV2xrWlc1MGFXWnBaWElNQ2tZMVNqWXlXREk0TmxNd0V3d09aMlYwTFhSaGMyc3RZV3hzYjNjQkFRQXdPUXdXYTJWNVkyaGhhVzR0WVdOalpYTnpMV2R5YjNWd2N6QWZEQXhHTlVvMk1sZ3lPRFpUTGlvTUQyTnZiUzVoY0hCc1pTNTBiMnRsYnFDQ0NEd3dnZ0pETUlJQnlhQURBZ0VDQWdndHhmeUkwc1ZMbFRBS0JnZ3Foa2pPUFFRREF6Qm5NUnN3R1FZRFZRUUREQkpCY0hCc1pTQlNiMjkwSUVOQklDMGdSek14SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXpBZUZ3MHhOREEwTXpBeE9ERTVNRFphRncwek9UQTBNekF4T0RFNU1EWmFNR2N4R3pBWkJnTlZCQU1NRWtGd2NHeGxJRkp2YjNRZ1EwRWdMU0JITXpFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1IWXdFQVlIS29aSXpqMENBUVlGSzRFRUFDSURZZ0FFbU9rdlBVQnlwTzJUSW5LQkV4emRFSlh4eGFOT2Nkd1VGdGtPNWFZRktuZGtlMTlPT05PN0hFUzFmL1VmdGpKaVhjbnBoRnRQTUU4UldnRDlXRmdNcGZVUExFMEhSeE4xMnBlWGwyOHhYTzByblhzZ085aTVWTmxlbWFRNlVRb3hvMEl3UURBZEJnTlZIUTRFRmdRVXU3RGVvVmd6aUpxa2lwbmV2cjNycjlyTEpLc3dEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0NnWUlLb1pJemowRUF3TURhQUF3WlFJeEFJUHB3Y1FXWGhwZE5Calo3ZS8wYkE0QVJrdTQzN0pHRWNVUC9lWjZqS0dtYTg3Q0E5U2M5WlBHZExocTM2b2pGUUl3YldhS0VNclVEZFJQelkxRFByU0tZNlV6YnVOdDJoZTNaQi9JVXliNWlHSjBPUXNYVzh0UnFBem9HQVBub3JJb01JSUM1akNDQW0yZ0F3SUJBZ0lJTXczdStMOU1hQzR3Q2dZSUtvWkl6ajBFQXdNd1p6RWJNQmtHQTFVRUF3d1NRWEJ3YkdVZ1VtOXZkQ0JEUVNBdElFY3pNU1l3SkFZRFZRUUxEQjFCY0hCc1pTQkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwZVRFVE1CRUdBMVVFQ2d3S1FYQndiR1VnU1c1akxqRUxNQWtHQTFVRUJoTUNWVk13SGhjTk1UY3dNakl5TWpJeU16SXlXaGNOTXpJd01qRTRNREF3TURBd1dqQnlNU1l3SkFZRFZRUUREQjFCY0hCc1pTQlRlWE4wWlcwZ1NXNTBaV2R5WVhScGIyNGdRMEVnTkRFbU1DUUdBMVVFQ3d3ZFFYQndiR1VnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3hFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUJtdWtWbTk5bnlmUnpqYU9raHRXelZRMlpFckpsR2laK3NrZ2Z1TDFXQS9jNG1yckdVY3ZMdTg3cEFHMEFSTkVmRm9tcmFDY0tTV0s1ZVlHYjA5OFdxT0I5ekNCOURBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUI4R0ExVWRJd1FZTUJhQUZMdXczcUZZTTRpYXBJcVozcjY5NjYvYXl5U3JNRVlHQ0NzR0FRVUZCd0VCQkRvd09EQTJCZ2dyQmdFRkJRY3dBWVlxYUhSMGNEb3ZMMjlqYzNBdVlYQndiR1V1WTI5dEwyOWpjM0F3TXkxaGNIQnNaWEp2YjNSallXY3pNRGNHQTFVZEh3UXdNQzR3TEtBcW9DaUdKbWgwZEhBNkx5OWpjbXd1WVhCd2JHVXVZMjl0TDJGd2NHeGxjbTl2ZEdOaFp6TXVZM0pzTUIwR0ExVWREZ1FXQkJSNlI3bzRpaFVrU0NKR3piNlBHaVI3TkFNcWFUQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0VBWUtLb1pJaHZkalpBWUNFUVFDQlFBd0NnWUlLb1pJemowRUF3TURad0F3WkFJd0ZReXBqc2F2bG1scnA1L2RYTlFEV1d5dVV0Umd4b3QyNExmRm92RUpmT0NhNDJ1eDQzd3h4Q2Q2cDQ2Si9hdDNBakJoTXlEeEtmLzVoekt1S2Noa1BYWjdVYVRTQWk5MnZtQWlrZkhWT25YY3RPTEdLcGIreGduY1NrL1ZKUEQ4eXJJd2dnTUhNSUlDcmFBREFnRUNBZ2dYZ0tnMFptVHF5ekFLQmdncWhrak9QUVFEQWpCeU1TWXdKQVlEVlFRRERCMUJjSEJzWlNCVGVYTjBaVzBnU1c1MFpXZHlZWFJwYjI0Z1EwRWdOREVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUI0WERUSTBNVEV5TURBek1qQTBOVm9YRFRJNE1USXhOREU0TURBek1Gb3dUakVxTUNnR0ExVUVBd3doVjFkRVVpQlFjbTkyYVhOcGIyNXBibWNnVUhKdlptbHNaU0JUYVdkdWFXNW5NUk13RVFZRFZRUUtEQXBCY0hCc1pTQkpibU11TVFzd0NRWURWUVFHRXdKVlV6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJQV1VXdzdCMUZRL0dkNUdZQ1ZmUG80cHoyeFBrOVVjdDMyMlVsOGY0ZnRqQWJLQ0c2aWhUclRUN2U5V3VSZlVtTTFndDg1T3FiYzZWM1pUNkRORHIzMmpnZ0ZQTUlJQlN6QU1CZ05WSFJNQkFmOEVBakFBTUI4R0ExVWRJd1FZTUJhQUZIcEh1amlLRlNSSUlrYk52bzhhSkhzMEF5cHBNRUVHQ0NzR0FRVUZCd0VCQkRVd016QXhCZ2dyQmdFRkJRY3dBWVlsYUhSMGNEb3ZMMjlqYzNBdVlYQndiR1V1WTI5dEwyOWpjM0F3TXkxaGMybGpZVFF3TXpDQmxnWURWUjBnQklHT01JR0xNSUdJQmdrcWhraUc5Mk5rQlFFd2V6QjVCZ2dyQmdFRkJRY0NBakJ0REd0VWFHbHpJR05sY25ScFptbGpZWFJsSUdseklIUnZJR0psSUhWelpXUWdaWGhqYkhWemFYWmxiSGtnWm05eUlHWjFibU4wYVc5dWN5QnBiblJsY201aGJDQjBieUJCY0hCc1pTQlFjbTlrZFdOMGN5QmhibVF2YjNJZ1FYQndiR1VnY0hKdlkyVnpjMlZ6TGpBZEJnTlZIUTRFRmdRVTZWTE9EYkRHaUJwbFNyaWJFWS94M0I1SEZId3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BOEdDU3FHU0liM1kyUU1Fd1FDQlFBd0NnWUlLb1pJemowRUF3SURTQUF3UlFJaEFPK2F2RjJnV21ac1pMbk5ONU9wVTdRM3hjZHM0WVA2RnhyZUN6M1dxMmhtQWlCNEk5bkRpQWRKUGZYN2lZK1FibGpnVjU5ai8xamgxbzljbUdQV09qNC9uVEdDQWRJd2dnSE9BZ0VCTUg0d2NqRW1NQ1FHQTFVRUF3d2RRWEJ3YkdVZ1UzbHpkR1Z0SUVsdWRHVm5jbUYwYVc5dUlFTkJJRFF4SmpBa0JnTlZCQXNNSFVGd2NHeGxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXdJSUY0Q29OR1prNnNzd0N3WUpZSVpJQVdVREJBSUJvSUhuTUJnR0NTcUdTSWIzRFFFSkF6RUxCZ2txaGtpRzl3MEJCd0V3SEFZSktvWklodmNOQVFrRk1ROFhEVEkxTVRBeE5qRXhNalEwT1Zvd0tBWUpLb1pJaHZjTkFRazBNUnN3R1RBTEJnbGdoa2dCWlFNRUFnR2hDZ1lJS29aSXpqMEVBd0l3THdZSktvWklodmNOQVFrRU1TSUVJUE1rMzh4RldWQ3RLZW9wb3Z3MkJhQTJjQ1NmOW5JQlJhdmd5d1BFV0MvdE1GSUdDU3FHU0liM0RRRUpEekZGTUVNd0NnWUlLb1pJaHZjTkF3Y3dEZ1lJS29aSWh2Y05Bd0lDQWdDQU1BMEdDQ3FHU0liM0RRTUNBZ0ZBTUFjR0JTc09Bd0lITUEwR0NDcUdTSWIzRFFNQ0FnRW9NQW9HQ0NxR1NNNDlCQU1DQkVZd1JBSWdHbDlRS045M0ZoaTZpQ0o0a3VMaElJMlExQ1RoRVFlQmJDalUzSm9zVzNRQ0lENE1kSFRRQy96MHZNeUw5cDFMWnhoVWNjTmErYnJydDNITzRBbE9uVWN3PC9kYXRhPgoJCQkJCQkJCQkJCQkJCQoJCQk8a2V5PlBQUUNoZWNrPC9rZXk+Cgk8ZmFsc2UvPgoKCTxrZXk+RW50aXRsZW1lbnRzPC9rZXk+Cgk8ZGljdD4KCQk8a2V5PmJldGEtcmVwb3J0cy1hY3RpdmU8L2tleT4KCQk8dHJ1ZS8+CgkJCQkKCQkJCTxrZXk+YXBzLWVudmlyb25tZW50PC9rZXk+CgkJPHN0cmluZz5wcm9kdWN0aW9uPC9zdHJpbmc+CgkJCQkKCQkJCTxrZXk+YXBwbGljYXRpb24taWRlbnRpZmllcjwva2V5PgoJCTxzdHJpbmc+RjVKNjJYMjg2Uy5pby5maXJlc2hpcHMucXVpemFwcDwvc3RyaW5nPgoJCQkJCgkJCQk8a2V5PmtleWNoYWluLWFjY2Vzcy1ncm91cHM8L2tleT4KCQk8YXJyYXk+CgkJCQk8c3RyaW5nPkY1SjYyWDI4NlMuKjwvc3RyaW5nPgoJCQkJPHN0cmluZz5jb20uYXBwbGUudG9rZW48L3N0cmluZz4KCQk8L2FycmF5PgoJCQkJCgkJCQk8a2V5PmdldC10YXNrLWFsbG93PC9rZXk+CgkJPGZhbHNlLz4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLnRlYW0taWRlbnRpZmllcjwva2V5PgoJCTxzdHJpbmc+RjVKNjJYMjg2Uzwvc3RyaW5nPgoJCQoJPC9kaWN0PgoJPGtleT5FeHBpcmF0aW9uRGF0ZTwva2V5PgoJPGRhdGU+MjAyNi0xMC0wMlQwOTozMjo0NFo8L2RhdGU+Cgk8a2V5Pk5hbWU8L2tleT4KCTxzdHJpbmc+VEVTVFFVSVo8L3N0cmluZz4KCTxrZXk+VGVhbUlkZW50aWZpZXI8L2tleT4KCTxhcnJheT4KCQk8c3RyaW5nPkY1SjYyWDI4NlM8L3N0cmluZz4KCTwvYXJyYXk+Cgk8a2V5PlRlYW1OYW1lPC9rZXk+Cgk8c3RyaW5nPldFQlNPTklYIERJR0lUQUwgUFJJVkFURSBMSU1JVEVEPC9zdHJpbmc+Cgk8a2V5PlRpbWVUb0xpdmU8L2tleT4K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
      xcode: 15.0
      flutter: 3.24.0
      cocoapods: default
    
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: 'main'
          include: true
          source: true
    
    scripts:
      - name: Set up provisioning profile
        script: | 
          PROFILES_HOME="$HOME/Library/MobileDevice/Provisioning Profiles"
          mkdir -p "$PROFILES_HOME"
          PROFILE_PATH="$PROFILES_HOME/TESTQUIZ.mobileprovision"
          echo "$PROVISIONING_PROFILE_BASE64" | base64 --decode > "$PROFILE_PATH"
          echo "Installed provisioning profile at $PROFILE_PATH"
      
      - name: Get Flutter packages
        script: |
          flutter packages pub get
      
      - name: Delete Podfile.lock and update CocoaPods repos
        script: |
          cd ios
          rm -f Podfile.lock
          pod repo update
          cd ..
      
      - name: Install pods
        script: |
          find . -name "Podfile" -execdir pod install \;
      
- name: Build IPA
  script: |
    keychain initialize
    app-store-connect fetch-signing-files "io.fireships.quizapp" \
      --type IOS_APP_STORE \
      --create
    keychain add-certificates
    xcode-project use-profiles
    flutter build ipa --release \
      --build-name=1.0.$BUILD_NUMBER \
      --build-number=$BUILD_NUMBER
    
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    
    publishing:
      email:
        recipients:
          - your-email@example.com
        notify:
          success: true
          failure: true
      
      app_store_connect:
        api_key: $APP_STORE_CONNECT_PRIVATE_KEY
        key_id: $APP_STORE_CONNECT_KEY_IDENTIFIER
        issuer_id: $APP_STORE_CONNECT_ISSUER_ID
        submit_to_testflight: false
